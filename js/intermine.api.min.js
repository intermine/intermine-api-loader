(function(){var e,n,t,i,r,s,o,d,u,c,g,m,f,a=[].slice;i={widgets:{latest:"http://cdn.intermine.org/js/intermine/widgets/latest/intermine.widgets.js","1.0.0":"http://cdn.intermine.org/js/intermine/widgets/1.0.0/intermine.widgets.js","1.1.0":"http://cdn.intermine.org/js/intermine/widgets/1.1.0/intermine.widgets.js","1.1.7":"http://cdn.intermine.org/js/intermine/widgets/1.1.7/intermine.widgets.js","1.1.8":"http://cdn.intermine.org/js/intermine/widgets/1.1.8/intermine.widgets.js","1.1.9":"http://cdn.intermine.org/js/intermine/widgets/1.1.9/intermine.widgets.js","1.1.10":"http://cdn.intermine.org/js/intermine/widgets/1.1.10/intermine.widgets.js","1.2.0":"http://cdn.intermine.org/js/intermine/widgets/1.2.0/intermine.widgets.js","1.2.1":"http://cdn.intermine.org/js/intermine/widgets/1.2.1/intermine.widgets.js","1.3.0":"http://cdn.intermine.org/js/intermine/widgets/1.3.0/intermine.widgets.js","1.4.0":"http://cdn.intermine.org/js/intermine/widgets/1.4.0/intermine.widgets.js","1.4.1":"http://cdn.intermine.org/js/intermine/widgets/1.4.1/intermine.widgets.js","1.4.2":"http://cdn.intermine.org/js/intermine/widgets/1.4.2/intermine.widgets.js","1.6.7":"http://cdn.intermine.org/js/intermine/widgets/1.6.7/intermine.widgets.js","1.6.8":"http://cdn.intermine.org/js/intermine/widgets/1.6.8/intermine.widgets.js","1.7.0":"http://cdn.intermine.org/js/intermine/widgets/1.7.0/intermine.widgets.js","1.7.3":"http://cdn.intermine.org/js/intermine/widgets/1.7.3/intermine.widgets.js","1.8.0":"http://cdn.intermine.org/js/intermine/widgets/1.8.0/intermine.widgets.js","1.8.1":"http://cdn.intermine.org/js/intermine/widgets/1.8.1/intermine.widgets.js","1.8.2":"http://cdn.intermine.org/js/intermine/widgets/1.8.2/intermine.widgets.js","1.8.3":"http://cdn.intermine.org/js/intermine/widgets/1.8.3/intermine.widgets.js","1.9.1":"http://cdn.intermine.org/js/intermine/widgets/1.9.1/intermine.widgets.js","1.10.0":"http://cdn.intermine.org/js/intermine/widgets/1.10.0/intermine.widgets.js","1.11.2":"http://cdn.intermine.org/js/intermine/widgets/1.11.2/intermine.widgets.js"},"report-widgets":{latest:"http://cdn.intermine.org/js/intermine/report-widgets/latest/intermine.report-widgets.js","0.7.0":"http://cdn.intermine.org/js/intermine/report-widgets/0.7.0/intermine.report-widgets.js"}},f="undefined"!=typeof process&&process.nextTick?"undefined"!=typeof setImmediate?setImmediate:process.nextTick:"function"==typeof setImmediate?setImmediate:function(e){return setTimeout(e,0)},u=function(e,n){var t,i,r;if(e.forEach)return e.forEach(n);r=[];for(t in e)i=e[t],r.push(n(i,t,e));return r},g=function(e,n){var t;return e.map?e.map(n):(t=[],u(e,function(e,i,r){return t.push(n(e,i,r))}),t)},m=function(e,n,t){return e.reduce?e.reduce(n,t):(u(e,function(e,i,r){return t=n(t,e,i,r)}),t)},c=function(e){var n,t;if(Object.keys)return Object.keys(e);t=[];for(n in e)e.hasOwnProperty(n)&&t.push(n);return t},d=function(e,n){var t,i,r;if([].indexOf)return e.indexOf(n)>=0;for(i=0,r=e.length;r>i;i++)if(t=e[i],t===n)return!0;return!1},o=function(e,n){var t,i,r,s,o,d;return n=n||function(){},i=c(e),i.length?(o={},r=[],t=function(e){return r.unshift(e)},s=function(e){var n,t;for(n in r)if(t=r[n],t===e)return r.splice(n,1),void 0},d=function(){return u(r.slice(0),function(e){return e()})},t(function(){return c(o).length===i.length?(n(null,o),n=function(){}):void 0}),u(i,function(i){var r,g,a,p,l;return p=e[i]instanceof Function?[e[i]]:e[i],l=function(e){var t,r;return t=Array.prototype.slice.call(arguments,1),1>=t.length&&(t=t[0]),e?(r={},u(c(o),function(e){return r[e]=o[e]}),r[i]=t,n(e,r),n=function(){}):(o[i]=t,f(d))},a=p.slice(0,Math.abs(p.length-1))||[],g=function(){return m(a,function(e,n){return e&&o.hasOwnProperty(n)},!0)&&!o.hasOwnProperty(i)},g()?p[p.length-1](l,o):(r=function(){return g()?(s(r),p[p.length-1](l,o)):void 0},t(r))})):n(null)},r=this,r.intermine=e=r.intermine||{},s=global||r,e.load||(e.loader=function(e,n,t){var i,r,s;switch(null==n&&(n="js"),r=function(e,n){return e.onload=n,e.onreadystatechange=function(){var t;return t=e.readyState,"complete"===t||"loaded"===t?(e.onreadystatechange=null,f(n)):void 0}},n){case"js":return i=document.createElement("script"),i.src=e,i.type="text/javascript",r(i,t),document.getElementsByTagName("head")[0].appendChild(i);case"css":return s=document.createElement("link"),s.rel="stylesheet",s.type="text/css",s.href=e,document.getElementsByTagName("head")[0].appendChild(s),t(null);default:return t("Unrecognized type `"+n+"`")}},t={},n=function(n,i,r){var u,g,m,a,p,l,h,j,w,y,v,b;a=!1,m=function(e){return a=!0,r(e)},l={},w=function(r,o){var d,u,c,g,p,h;if(!a){if(g=o.path,d=o.check,c=o.depends,!g)return m("Library `path` not provided for "+r);if(d&&"function"==typeof d&&d()||null!=s[r])return l[r]=function(e){return e(null)};if(t[r])return l[r]=function(e){var n;return(n=function(){return t[r]?e(null):f(n)})()};if(t[r]=!0,l[r]=function(n){return e.loader(g,i,function(){return delete t[r],n(null)})},c&&c instanceof Array){for(p=0,h=c.length;h>p;p++)if(u=c[p],"string"!=typeof u||null==n[u])return delete t[r],m("Unrecognized dependency `"+u+"`");return l[r]=c.concat(l[r])}}};for(p in n)j=n[p],w(p,j);if(!a){g=[];for(p in l)j=l[p],j instanceof Array&&(h={},(u=function(e){var n,t,i,r,s;if("string"==typeof e)if(null!=h[e]){if(!d(g,e))return g.push(e)}else if(h[e]=!0,(t=l[e])instanceof Array){for(s=[],n=i=0,r=t.length-1;r>=0?r>i:i>r;n=r>=0?++i:--i)s.push(u(t[n]));return s}})(p));if(g.length){for(b=c(l),y=0,v=b.length;v>y;y++)p=b[y],delete t[p];return m("Circular dependencies detected for `"+g+"`")}return o(l,function(e){return e?r(e):r(null)})}},e.load=function(){var e,t,r,s,o,d,u,g,m,f,p,l,h,j,w;if(u=arguments[0],e=arguments.length>=2?a.call(arguments,1):[],t=1===arguments.length?u:e.pop(),h="latest","string"==typeof e[0]&&(h=e[0]),"function"!=typeof t&&(t=function(){}),"string"==typeof u)return i[u]?(f=i[u][h])?(m={},m["intermine."+u]={path:f},n(m,"js",t)):t("Unknown `"+u+"` version "+h):t("Unknown library `"+u+"`");if(u instanceof Array){m={js:{},css:{}};for(o in u){if(w=u[o],g=w.name,f=w.path,l=w.type,j=w.wait,!f&&!l)return t("Library `path` or `type` not provided");if("css"!==l&&"js"!==l)return t("Library type `"+l+"` not recognized");g||(g=f.split("/").pop()),u[o].name=g,m[l][g]={path:f},j&&0!==o&&(m[l][g].depends=[u[o-1].name])}u=m}return"object"==typeof u?(o=c(u).length,r=!1,s=function(e){return r?void 0:e?(r=!0,t(e)):o--&&!o?t(null):void 0},function(){var e;e=[];for(d in u)p=u[d],e.push(n(p,d,s));return e}()):t("Unrecognized input")})}).call(this);