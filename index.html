<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>InterMine API Loader</title>

        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

        <link href="css/bootstrap.css" rel="stylesheet">

        <script src="js/intermine.api.js"></script>
        <script src="js/jquery.js"></script>
    </head>

    <body>
        <!-- menu -->
        <div class="navbar">
            <div class="navbar-inner">
                <div class="container" style="width: auto;">
                    <a class="brand" href="#">InterMine API Loader</a>
                    <ul class="nav pull-right">
                        <li class="divider-vertical"></li>
                        <li><a href="https://github.com/radekstepan/intermine-api-loader">Fork me on GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">

            <div class="row">
                <h2>Load InterMine Libraries</h2>

                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Library</th>
                            <th>Version</th>
                            <th>URL</th>
                            <th>Loaded?</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>List Widgets</strong></td>
                            <td>latest</td>
                            <td><a href="https://github.com/radekstepan/intermine-widget-client">https://github.com/radekstepan/intermine-widget-client</a></td>
                            <td id="widgets"><span class="label">?</span></td>
                        </tr>
                        <tr>
                            <td><strong>Report Widgets</strong></td>
                            <td>latest</td>
                            <td><a href="https://github.com/radekstepan/intermine-report-widgets">https://github.com/radekstepan/intermine-report-widgets</a></td>
                            <td id="reportWidgets"><span class="label">?</span></td>
                        </tr>
                        <tr>
                            <td><strong>jQuery</strong></td>
                            <td>1.8.2</td>
                            <td><a href="http://jquery.com/">http://jquery.com/</a></td>
                            <td id="jQuery"><span class="label">?</span></td>
                        </tr>
                    </tbody>
                </table>

                <script>
                (function() {
                    // InterMine Libraries.
                    var success, res, _i, _len, _ref;
                    
                    success = function() {
                        return $('<span/>', { 'class': 'label label-success', 'text': 'Yes' });
                    };

                    _ref = ['widgets', 'reportWidgets'];
                    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                        (function(res) {
                            intermine.load(res, function() {
                                $('#' + res).html(success);
                            });
                        })(_ref[_i]);
                    }

                    // jQuery.
                    intermine.load([
                        {
                            'name': 'jquery',
                            'path': 'http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.2.min.js',
                            'type': 'js'
                        }
                    ], function() {
                        $('#jQuery').html(success);
                    });
                })();
                </script>

            </div>
            
        </div>
    </body>
</html>